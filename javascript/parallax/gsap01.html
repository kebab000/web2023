<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/parallax.css" />
    <style>
      #header {
        position: fixed;
        z-index: 10000;
      }
      .parallaxs__item {
        width: 100vw;
        height: 100vh;
        position: relative;
      }
      #section1 {
        background-color: #111;
      }
      #section2 {
        background-color: #222;
      }
      #section3 {
        background-color: #111;
      }
      #section4 {
        background-color: #222;
      }
      #section5 {
        background-color: #111;
      }
      #section6 {
        background-color: #222;
      }
      #section7 {
        background-color: #111;
      }
      #section8 {
        background-color: #222;
      }
      #section9 {
        background-color: #111;
      }
      .parallaxs__item {
        display: flex;
        width: 100vw;
        height: 100vh;
        position: relative;
        align-items: center;
        justify-content: center;
      }
      .parallaxs__item__num {
        position: absolute;
        right: 20px;
        bottom: 15px;
        /* transform: translate(-50%,-50%); */
        color: #fff;
        z-index: 1000;
        font-family: "Lato";
        font-size: 5vw;
      }
      .parallaxs__item__img {
        width: 200px;
        height: 200px;
        background-size: cover;
        border-radius: 20px;
        transition: "border-radius" 3s;
      }
      .parallaxs__item__img.active {
        border-radius: 50%;
      }
      .parallaxs__item:nth-child(1) .parallaxs__item__img {
        background-image: url(img/parallaxEffect01.jpg);
      }
      .parallaxs__item:nth-child(2) .parallaxs__item__img {
        background-image: url(img/parallaxEffect02.jpg);
      }
      .parallaxs__item:nth-child(3) .parallaxs__item__img {
        background-image: url(img/parallaxEffect03.jpg);
      }
      .parallaxs__item:nth-child(4) .parallaxs__item__img {
        background-image: url(img/parallaxEffect04.jpg);
      }
      .parallaxs__item:nth-child(5) .parallaxs__item__img {
        background-image: url(img/parallaxEffect05.jpg);
      }
      .parallaxs__item:nth-child(6) .parallaxs__item__img {
        background-image: url(img/parallaxEffect06.jpg);
      }
      .parallaxs__item:nth-child(7) .parallaxs__item__img {
        background-image: url(img/parallaxEffect07.jpg);
      }
      .parallaxs__item:nth-child(8) .parallaxs__item__img {
        background-image: url(img/parallaxEffect08.jpg);
      }
      .parallaxs__item:nth-child(9) .parallaxs__item__img {
        background-image: url(img/parallaxEffect09.jpg);
      }
      .parallaxs__info {
        z-index: 10000;
      }
      progress {
        position: fixed;
        top: 0;
        left: 0;
        appearance: none;
        width: 100%;
        height: 5px;
        border: none;
        background: transparent;
      }
      progress::-webkit-progress-bar {
        background: transparent;
      }
      progress::-webkit-progress-value {
        background: linear-gradient(
          to left,
          #db38b5,
          #01b3e3,
          #25ce7b,
          #fdc741,
          #ff6b01,
          #fc4236
        );
        background-attachment: fixed;
      }
      progress::-moz-progress-bar {
        background: linear-gradient(
          to left,
          #db38b5,
          #01b3e3,
          #25ce7b,
          #fdc741,
          #ff6b01,
          #fc4236
        );
        background-attachment: fixed;
      }
    </style>
    <title>GSAP 이펙트</title>
  </head>
  <body class="bg01 font01">
    <header id="header">
      <h1>GSAP parallax Effect01</h1>
      <p>페럴럭스 이펙트 : Animation</p>
      <ul>
        <li class="active"><a href="gsap01.html">1</a></li>
        <li><a href="gsap02.html">2</a></li>
        <li><a href="gsap03.html">3</a></li>
        <li><a href="gsap04.html">4</a></li>
        <li><a href="gsap05.html">5</a></li>
        <li><a href="gsap06.html">6</a></li>
        <li><a href="gsap07.html">7</a></li>
        <li><a href="gsap08.html">8</a></li>
        <li><a href="gsap09.html">9</a></li>
        <li><a href="gsap10.html">10</a></li>
      </ul>
    </header>
    <!-- //헤더 -->
    <main id="main">
      <div class="parallaxs__wrap">
        <section id="section1" class="parallaxs__item">
          <span class="parallaxs__item__num">01</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section1 -->
        <section id="section2" class="parallaxs__item">
          <span class="parallaxs__item__num">02</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section2 -->
        <section id="section3" class="parallaxs__item">
          <span class="parallaxs__item__num">03</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section3 -->
        <section id="section4" class="parallaxs__item">
          <span class="parallaxs__item__num">04</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section4 -->
        <section id="section5" class="parallaxs__item">
          <span class="parallaxs__item__num">05</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section5 -->
        <section id="section6" class="parallaxs__item">
          <span class="parallaxs__item__num">06</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section6 -->
        <section id="section7" class="parallaxs__item">
          <span class="parallaxs__item__num">07</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section7 -->
        <section id="section8" class="parallaxs__item">
          <span class="parallaxs__item__num">08</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section8 -->
        <section id="section9" class="parallaxs__item">
          <span class="parallaxs__item__num">09</span>
          <div class="parallaxs__item__img"></div>
        </section>
        <!-- //section9 -->
      </div>
    </main>

    <progress max="100" value="0"></progress>
    <!-- //footer -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>
    <script>
      const box1 = document.querySelector("#section1 .parallaxs__item__img");
      const box2 = document.querySelector("#section2 .parallaxs__item__img");
      const box3 = document.querySelector("#section3 .parallaxs__item__img");
      const box4 = document.querySelector("#section4 .parallaxs__item__img");
      const box5 = document.querySelector("#section5 .parallaxs__item__img");
      const box6 = document.querySelector("#section6 .parallaxs__item__img");
      const box7 = document.querySelector("#section7 .parallaxs__item__img");
      const box8 = document.querySelector("#section8 .parallaxs__item__img");
      const box9 = document.querySelector("#section9 .parallaxs__item__img");

      //01
      gsap.to(box1, {
        duration: 2,
        x: 500,
        rotation: 360,
      });
      //02 : trigger // 했음
      gsap.to(box2, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box2,
        },
      });
      //03 : toggleActions "onEnter, onLeave, onEnterBack, onLeaveBack" // 했음
      gsap.to(box3, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box3,
          toggleActions: "play none none none", //play, pausem, resume,
        },
      });
      //04 : toggleActions // 했음
      gsap.to(box4, {
        duration: 4,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box4,
          toggleActions: "restart pause reverse none", //play, pause, resume,
        },
      });
      //05 : start, end
      gsap.to(box5, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box5,
          start: "top 50%",
          markers: false,
        },
      });
      //06 : scrub
      gsap.to(box6, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box6,
          start: "top 50%",
          end: "bottom 20%",
          markers: false,
          scrub: 2, // true, 1, 2,
        },
      });
      //07 : pin // 했음
      gsap.to(box7, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box7,
          start: "top 50%",
          end: "top 100px",
          scrub: true, // true, 1, 2, ,
          pin: true,
          markers: false,
        },
      });
      //08 : callback
      gsap.to(box8, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box8,
          start: "top center",
          end: "bottom 30%",
          scrub: true, // true, 1, 2, ,
          markers: false,
          // onEnter : () => {console.log("onEnter")},
          // onLeave : () => {console.log("onLeave")},
          // onEnterBack : () => {console.log("onEnterBack")},
          // onLeaveBack : () => {console.log("onLeaveBack")}
          // onUpdate : (self) => {console.log("onUpdate", self.progress.toFixed(3))},
          onToggle: (self) => {
            console.log("onToggle", self.isActive);
          },
        },
      });
      //09 : class
      gsap.to(box9, {
        duration: 2,
        x: 500,
        rotation: 360,
        scrollTrigger: {
          trigger: box9,
          start: "top center",
          end: "bottom 30%",
          scrub: true, // true, 1, 2, ,
          markers: true,
          toggleClass: "active",
          id: "box9",
        },
      });
    </script>
  </body>
</html>
